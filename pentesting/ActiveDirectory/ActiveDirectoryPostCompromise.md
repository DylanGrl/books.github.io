---
layout: default
title: Active Directory Post Compromise
nav_order: 2
has_children: false
parent: Active Directory
grand_parent: Pentesting
---

## Active Directory Post Compromise

### PowerView - Domain Enumeration

Available on [Github](https://github.com/PowerShellMafia/PowerSploit/blob/master/Recon/PowerView.ps1)

Powershell used to do the enumeration. 
From a command terminal: 

```powershell
powershell -ep bypass 
. .\PowerView.ps1
```

Documentations:
- https://powersploit.readthedocs.io/en/latest/Recon/
- https://www.ired.team/offensive-security-experiments/active-directory-kerberos-abuse/active-directory-enumeration-with-powerview

### Bloodhound

Available on [Github](https://github.com/BloodHoundAD/BloodHound) - apt on kali
Show path to domain admin quickly.
Need to configure neo4j to have it working.

#### Retrieve  data - Invoke-Bloodhound

[Sources](https://github.com/BloodHoundAD/BloodHound/tree/master/Collectors)

The file `SharpHound.ps1` must be download and setup on one of the windows host then execute:
```powershell
powershell -ep bypass 
. .\SharpHound.ps1
Invoke-Bloodhound -CollectionMethod All -Domain EVIL.local -ZipFileName zipFile.zip
```

Now we should extract the zip file to consult it on bloodhound. 

BloodHound will provide prebuild querry to detect shortest path to AD admin or even help us to do Kerberoasting.



